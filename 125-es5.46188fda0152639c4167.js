function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{ZjYr:function(e,t,n){"use strict";n.r(t);var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),a=n("tyNb"),l=n("mrSG"),c=n("qXBG"),s=n("D+jN"),m=n("LWQN"),p=n("26ZW"),d=n("fXoL");function u(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",11),d["\u0275\u0275elementStart"](1,"div",12),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=t.$implicit;return d["\u0275\u0275nextContext"](2).remove(e)})),d["\u0275\u0275element"](2,"ion-icon",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"div",14),d["\u0275\u0275elementStart"](4,"ion-badge",15),d["\u0275\u0275element"](5,"ion-icon",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div"),d["\u0275\u0275elementStart"](7,"ion-label",17),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit;d["\u0275\u0275advance"](4),d["\u0275\u0275propertyInterpolate"]("color",o.color),d["\u0275\u0275advance"](1),d["\u0275\u0275classMapInterpolate1"]("iconfont ym-font ",o.icon,""),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",o.name," ")}}function f(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"ion-list-header",21),d["\u0275\u0275elementStart"](1,"ion-label",8),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.appGroupName)}}function h(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"ion-list-header"),d["\u0275\u0275elementStart"](1,"ion-label",8),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.appGroupName)}}function g(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"ion-chip",26),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=d["\u0275\u0275nextContext"]().$implicit;return d["\u0275\u0275nextContext"](3).add(e)})),d["\u0275\u0275elementStart"](1,"ion-label"),d["\u0275\u0275text"](2,"\u6dfb\u52a0"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function v(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"ion-chip",27),d["\u0275\u0275elementStart"](1,"ion-label"),d["\u0275\u0275text"](2,"\u5df2\u6dfb\u52a0"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"ion-item",22),d["\u0275\u0275elementStart"](1,"ion-badge",15),d["\u0275\u0275element"](2,"ion-icon",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"ion-label"),d["\u0275\u0275elementStart"](4,"h3",23),d["\u0275\u0275text"](5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"p"),d["\u0275\u0275text"](7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](8,g,3,0,"ion-chip",24),d["\u0275\u0275template"](9,v,3,0,"ion-chip",25),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("color",n.color),d["\u0275\u0275advance"](1),d["\u0275\u0275classMapInterpolate1"]("iconfont ym-font ",n.icon,""),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"]("\xa0\xa0",n.name,""),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" \xa0\xa0\u4ecb\u7ecd\uff1a",n.description," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!1===n.selected),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!0===n.selected)}}function y(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"ion-list"),d["\u0275\u0275template"](1,f,3,1,"ion-list-header",18),d["\u0275\u0275template"](2,h,3,1,"ion-list-header",19),d["\u0275\u0275template"](3,b,10,8,"ion-item",20),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,o=t.index;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",0==o),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",0!=o),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",n.appList)}}function x(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"ion-content",5),d["\u0275\u0275elementStart"](1,"ion-list",6),d["\u0275\u0275elementStart"](2,"ion-list-header",7),d["\u0275\u0275elementStart"](3,"ion-label",8),d["\u0275\u0275text"](4,"\u5e38\u7528\u7684"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](5,u,9,5,"div",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,y,4,3,"ion-list",10),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("fullscreen",!0),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngForOf",n.user_commonly_app),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",n.user.myMobileAppList)}}var I,_,C=[{path:"",component:(I=function(){function e(t,n,o,i){_classCallCheck(this,e),this.auth=t,this.comm=n,this.cache=o,this.osrv=i,this.user_commonly_app=[],this.max=10,this.edit_flag=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.get_user();case 2:return this.user=e.sent,e.next=5,this.cache.get("USER_ROLE");case 5:this.user_role=e.sent,this.user.myMobileUsuallyAppList&&(this.user_commonly_app=this.user.myMobileUsuallyAppList.concat()),this.user.myMobileAppList.forEach((function(e){e.appList.forEach((function(e){e.selected=t.user_commonly_app.findIndex((function(t){return t.id==e.id}))>=0}))}));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"remove",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.edit_flag=!0,this.user_commonly_app.splice(this.user_commonly_app.findIndex((function(t){return t.id==e.id})),1),this.user.myMobileAppList.forEach((function(t){t.appList.forEach((function(t){e.id==t.id&&(t.selected=!1)}))}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"add",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.user_commonly_app.findIndex((function(t){return t.id==e.id}))>=0||(this.user_commonly_app.length>=this.max?this.comm.presentToast("\u5e38\u7528\u5e94\u7528\u6700\u591a\u8bbe\u7f6e"+this.max+"\u4e2a"):(this.edit_flag=!0,e.selected=!0,this.user_commonly_app.push(e)));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"save",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.user.myMobileUsuallyAppList=this.user_commonly_app,this.cache.set("USER_INFO",this.user),t=[],this.user_commonly_app.forEach((function(e){t.push(e.id)})),this.osrv.setUserCommonlyApp({roleId:this.user_role.roleID,IsMobile:!0,ids:t}),history.back();case 3:case"end":return e.stop()}}),e,this)})))}}]),e}(),I.\u0275fac=function(e){return new(e||I)(d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](m.a),d["\u0275\u0275directiveInject"](s.a),d["\u0275\u0275directiveInject"](p.a))},I.\u0275cmp=d["\u0275\u0275defineComponent"]({type:I,selectors:[["app-commonly-app"]],decls:10,vars:1,consts:[["slot","start","color","blues"],["defaultHref","tabs"],["slot","end","color","blues"],[3,"click"],[3,"fullscreen",4,"ngIf"],[3,"fullscreen"],[1,"",2,"padding-bottom","1rem"],[2,"background-color","#ffffff","border","none"],[2,"color","#000000","font-size","0.9rem","font-weight","800"],["class","box",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box"],[1,"shanjian",3,"click"],[1,"iconfont","ym-font","iconshanjian",2,"color","red"],[2,"margin-top","0.5rem"],[3,"color"],["color","light"],[1,"app-name"],["style","border-top:none",4,"ngIf"],[4,"ngIf"],["lines","full",4,"ngFor","ngForOf"],[2,"border-top","none"],["lines","full"],[1,"app-name1"],["outline","","color","blues","slot","end",3,"click",4,"ngIf"],["outline","","color","warning","slot","end",4,"ngIf"],["outline","","color","blues","slot","end",3,"click"],["outline","","color","warning","slot","end"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"ion-header"),d["\u0275\u0275elementStart"](1,"ion-toolbar"),d["\u0275\u0275elementStart"](2,"ion-buttons",0),d["\u0275\u0275element"](3,"ion-back-button",1),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"ion-title"),d["\u0275\u0275text"](5,"\u8bbe\u7f6e\u5e38\u7528\u5e94\u7528"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"ion-buttons",2),d["\u0275\u0275elementStart"](7,"ion-button",3),d["\u0275\u0275listener"]("click",(function(){return t.save()})),d["\u0275\u0275text"](8," \u5b8c\u6210 "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](9,x,7,3,"ion-content",4)),2&e&&(d["\u0275\u0275advance"](9),d["\u0275\u0275property"]("ngIf",t.user))},directives:[r.IonHeader,r.IonToolbar,r.IonButtons,r.IonBackButton,r.IonBackButtonDelegate,r.IonTitle,r.IonButton,o.NgIf,r.IonContent,r.IonList,r.IonListHeader,r.IonLabel,o.NgForOf,r.IonIcon,r.IonBadge,r.IonItem,r.IonChip],styles:["ion-content[_ngcontent-%COMP%]{--background:#f6f6f6}ion-item[_ngcontent-%COMP%]{background-color:#fff;--border-color:#f2f2f2}ion-icon[_ngcontent-%COMP%]{font-size:32px;--ionicon-stroke-width:16px}ion-list-header[_ngcontent-%COMP%]{--background:#f6f6f6;border-bottom:1px solid #e4e4e4;border-top:1px solid #e4e4e4}ion-badge[_ngcontent-%COMP%]{--padding-start:0.3rem;--padding-end:0.3rem;--padding-top:0.5rem;--padding-bottom:0.5rem;min-width:2.8rem}.iconfont[_ngcontent-%COMP%]{font-size:24px!important}.app-name[_ngcontent-%COMP%]{font-size:.6rem;color:#666}.app-name1[_ngcontent-%COMP%]{font-size:1rem;color:#333}.icon[_ngcontent-%COMP%]{width:1rem;height:1rem;vertical-align:-.15em;fill:currentColor;overflow:hidden}.box[_ngcontent-%COMP%]{text-align:center;width:20%;display:inline-block;position:relative}.iconshanjian[_ngcontent-%COMP%]{font-size:15px!important}.shanjian[_ngcontent-%COMP%]{position:absolute;right:3px;z-index:99999}ion-list-header[_ngcontent-%COMP%]{height:2rem}"]}),I)}],E=((_=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:_}),_.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||_)},imports:[[a.i.forChild(C)],a.i]}),_);n.d(t,"CommonlyAppPageModule",(function(){return S}));var k,S=((k=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:k}),k.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||k)},imports:[[o.CommonModule,i.FormsModule,r.IonicModule,E]]}),k)}}]);