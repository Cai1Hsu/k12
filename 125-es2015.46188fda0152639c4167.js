(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{ZjYr:function(e,t,n){"use strict";n.r(t);var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),l=n("tyNb"),a=n("mrSG"),c=n("qXBG"),s=n("D+jN"),m=n("LWQN"),d=n("26ZW"),p=n("fXoL");function f(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",11),p["\u0275\u0275elementStart"](1,"div",12),p["\u0275\u0275listener"]("click",(function(){p["\u0275\u0275restoreView"](e);const n=t.$implicit;return p["\u0275\u0275nextContext"](2).remove(n)})),p["\u0275\u0275element"](2,"ion-icon",13),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"div",14),p["\u0275\u0275elementStart"](4,"ion-badge",15),p["\u0275\u0275element"](5,"ion-icon",16),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"div"),p["\u0275\u0275elementStart"](7,"ion-label",17),p["\u0275\u0275text"](8),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;p["\u0275\u0275advance"](4),p["\u0275\u0275propertyInterpolate"]("color",e.color),p["\u0275\u0275advance"](1),p["\u0275\u0275classMapInterpolate1"]("iconfont ym-font ",e.icon,""),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function u(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"ion-list-header",21),p["\u0275\u0275elementStart"](1,"ion-label",8),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](e.appGroupName)}}function h(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"ion-list-header"),p["\u0275\u0275elementStart"](1,"ion-label",8),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](e.appGroupName)}}function g(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"ion-chip",26),p["\u0275\u0275listener"]("click",(function(){p["\u0275\u0275restoreView"](e);const t=p["\u0275\u0275nextContext"]().$implicit;return p["\u0275\u0275nextContext"](3).add(t)})),p["\u0275\u0275elementStart"](1,"ion-label"),p["\u0275\u0275text"](2,"\u6dfb\u52a0"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}}function b(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"ion-chip",27),p["\u0275\u0275elementStart"](1,"ion-label"),p["\u0275\u0275text"](2,"\u5df2\u6dfb\u52a0"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"ion-item",22),p["\u0275\u0275elementStart"](1,"ion-badge",15),p["\u0275\u0275element"](2,"ion-icon",16),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"ion-label"),p["\u0275\u0275elementStart"](4,"h3",23),p["\u0275\u0275text"](5),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"p"),p["\u0275\u0275text"](7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](8,g,3,0,"ion-chip",24),p["\u0275\u0275template"](9,b,3,0,"ion-chip",25),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275propertyInterpolate"]("color",e.color),p["\u0275\u0275advance"](1),p["\u0275\u0275classMapInterpolate1"]("iconfont ym-font ",e.icon,""),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"]("\xa0\xa0",e.name,""),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" \xa0\xa0\u4ecb\u7ecd\uff1a",e.description," "),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!1===e.selected),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!0===e.selected)}}function y(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"ion-list"),p["\u0275\u0275template"](1,u,3,1,"ion-list-header",18),p["\u0275\u0275template"](2,h,3,1,"ion-list-header",19),p["\u0275\u0275template"](3,I,10,8,"ion-item",20),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",0==n),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",0!=n),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",e.appList)}}function v(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"ion-content",5),p["\u0275\u0275elementStart"](1,"ion-list",6),p["\u0275\u0275elementStart"](2,"ion-list-header",7),p["\u0275\u0275elementStart"](3,"ion-label",8),p["\u0275\u0275text"](4,"\u5e38\u7528\u7684"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](5,f,9,5,"div",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](6,y,4,3,"ion-list",10),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275property"]("fullscreen",!0),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngForOf",e.user_commonly_app),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",e.user.myMobileAppList)}}const x=[{path:"",component:(()=>{class e{constructor(e,t,n,o){this.auth=e,this.comm=t,this.cache=n,this.osrv=o,this.user_commonly_app=[],this.max=10,this.edit_flag=!1}ngOnInit(){this.init()}init(){return Object(a.a)(this,void 0,void 0,(function*(){this.user=yield this.auth.get_user(),this.user_role=yield this.cache.get("USER_ROLE"),this.user.myMobileUsuallyAppList&&(this.user_commonly_app=this.user.myMobileUsuallyAppList.concat()),this.user.myMobileAppList.forEach(e=>{e.appList.forEach(e=>{e.selected=this.user_commonly_app.findIndex(t=>t.id==e.id)>=0})})}))}remove(e){return Object(a.a)(this,void 0,void 0,(function*(){this.edit_flag=!0,this.user_commonly_app.splice(this.user_commonly_app.findIndex(t=>t.id==e.id),1),this.user.myMobileAppList.forEach(t=>{t.appList.forEach(t=>{e.id==t.id&&(t.selected=!1)})})}))}add(e){return Object(a.a)(this,void 0,void 0,(function*(){this.user_commonly_app.findIndex(t=>t.id==e.id)>=0||(this.user_commonly_app.length>=this.max?this.comm.presentToast("\u5e38\u7528\u5e94\u7528\u6700\u591a\u8bbe\u7f6e"+this.max+"\u4e2a"):(this.edit_flag=!0,e.selected=!0,this.user_commonly_app.push(e)))}))}save(){return Object(a.a)(this,void 0,void 0,(function*(){this.user.myMobileUsuallyAppList=this.user_commonly_app,this.cache.set("USER_INFO",this.user);let e=[];this.user_commonly_app.forEach(t=>{e.push(t.id)}),this.osrv.setUserCommonlyApp({roleId:this.user_role.roleID,IsMobile:!0,ids:e}),history.back()}))}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](c.a),p["\u0275\u0275directiveInject"](m.a),p["\u0275\u0275directiveInject"](s.a),p["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-commonly-app"]],decls:10,vars:1,consts:[["slot","start","color","blues"],["defaultHref","tabs"],["slot","end","color","blues"],[3,"click"],[3,"fullscreen",4,"ngIf"],[3,"fullscreen"],[1,"",2,"padding-bottom","1rem"],[2,"background-color","#ffffff","border","none"],[2,"color","#000000","font-size","0.9rem","font-weight","800"],["class","box",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box"],[1,"shanjian",3,"click"],[1,"iconfont","ym-font","iconshanjian",2,"color","red"],[2,"margin-top","0.5rem"],[3,"color"],["color","light"],[1,"app-name"],["style","border-top:none",4,"ngIf"],[4,"ngIf"],["lines","full",4,"ngFor","ngForOf"],[2,"border-top","none"],["lines","full"],[1,"app-name1"],["outline","","color","blues","slot","end",3,"click",4,"ngIf"],["outline","","color","warning","slot","end",4,"ngIf"],["outline","","color","blues","slot","end",3,"click"],["outline","","color","warning","slot","end"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"ion-header"),p["\u0275\u0275elementStart"](1,"ion-toolbar"),p["\u0275\u0275elementStart"](2,"ion-buttons",0),p["\u0275\u0275element"](3,"ion-back-button",1),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"ion-title"),p["\u0275\u0275text"](5,"\u8bbe\u7f6e\u5e38\u7528\u5e94\u7528"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"ion-buttons",2),p["\u0275\u0275elementStart"](7,"ion-button",3),p["\u0275\u0275listener"]("click",(function(){return t.save()})),p["\u0275\u0275text"](8," \u5b8c\u6210 "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](9,v,7,3,"ion-content",4)),2&e&&(p["\u0275\u0275advance"](9),p["\u0275\u0275property"]("ngIf",t.user))},directives:[r.IonHeader,r.IonToolbar,r.IonButtons,r.IonBackButton,r.IonBackButtonDelegate,r.IonTitle,r.IonButton,o.NgIf,r.IonContent,r.IonList,r.IonListHeader,r.IonLabel,o.NgForOf,r.IonIcon,r.IonBadge,r.IonItem,r.IonChip],styles:["ion-content[_ngcontent-%COMP%]{--background:#f6f6f6}ion-item[_ngcontent-%COMP%]{background-color:#fff;--border-color:#f2f2f2}ion-icon[_ngcontent-%COMP%]{font-size:32px;--ionicon-stroke-width:16px}ion-list-header[_ngcontent-%COMP%]{--background:#f6f6f6;border-bottom:1px solid #e4e4e4;border-top:1px solid #e4e4e4}ion-badge[_ngcontent-%COMP%]{--padding-start:0.3rem;--padding-end:0.3rem;--padding-top:0.5rem;--padding-bottom:0.5rem;min-width:2.8rem}.iconfont[_ngcontent-%COMP%]{font-size:24px!important}.app-name[_ngcontent-%COMP%]{font-size:.6rem;color:#666}.app-name1[_ngcontent-%COMP%]{font-size:1rem;color:#333}.icon[_ngcontent-%COMP%]{width:1rem;height:1rem;vertical-align:-.15em;fill:currentColor;overflow:hidden}.box[_ngcontent-%COMP%]{text-align:center;width:20%;display:inline-block;position:relative}.iconshanjian[_ngcontent-%COMP%]{font-size:15px!important}.shanjian[_ngcontent-%COMP%]{position:absolute;right:3px;z-index:99999}ion-list-header[_ngcontent-%COMP%]{height:2rem}"]}),e})()}];let _=(()=>{class e{}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.i.forChild(x)],l.i]}),e})();n.d(t,"CommonlyAppPageModule",(function(){return E}));let E=(()=>{class e{}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.CommonModule,i.FormsModule,r.IonicModule,_]]}),e})()}}]);