function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{GA8Z:function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),i=n("3Pt+"),a=n("TEn/"),o=n("tyNb"),s=n("mrSG"),c=n("AH5l"),l=n("26ZW"),u=n("LWQN"),p=n("fXoL"),f=n("e8h1");function d(t,e){if(1&t&&(p["\u0275\u0275elementStart"](0,"span"),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&t){var n=p["\u0275\u0275nextContext"](2).$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](n.tips)}}var h=function(t){return{lineDefaule:t}};function m(t,e){if(1&t&&(p["\u0275\u0275elementStart"](0,"div",8),p["\u0275\u0275template"](1,d,2,1,"span",9),p["\u0275\u0275elementEnd"]()),2&t){var n=p["\u0275\u0275nextContext"](),r=n.index,i=n.$implicit,a=p["\u0275\u0275nextContext"]();p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](2,h,r+2>a.active)),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!!i.tips)}}var v=function(t){return{liWidth:t}},g=function(t){return{radioSelectDisabled:t}};function x(t,e){if(1&t&&(p["\u0275\u0275elementStart"](0,"li",4),p["\u0275\u0275elementStart"](1,"div",5),p["\u0275\u0275element"](2,"div",6),p["\u0275\u0275template"](3,m,2,4,"div",7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&t){var n=e.index,r=p["\u0275\u0275nextContext"]();p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](3,v,n+1==r.stepsData.length)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](5,g,n+1>r.active)),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n+1!=r.stepsData.length)}}function b(t,e){if(1&t&&(p["\u0275\u0275elementStart"](0,"div",12),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&t){var n=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](n.title)}}function S(t,e){if(1&t&&(p["\u0275\u0275elementStart"](0,"div",13),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&t){var n=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](n.description)}}var C=function(t){return{limaxWidth:t}};function k(t,e){if(1&t&&(p["\u0275\u0275elementStart"](0,"li",4),p["\u0275\u0275template"](1,b,2,1,"div",10),p["\u0275\u0275template"](2,S,2,1,"div",11),p["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,r=e.index,i=p["\u0275\u0275nextContext"]();p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](3,C,r+1==i.stepsData.length)),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!!n.title),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!!n.description)}}var z,y=((z=function(){function t(){_classCallCheck(this,t),this.activeNumber=1,this.activeNumber=parseInt(this.active)}return _createClass(t,[{key:"ngOnInit",value:function(){this.active||(this.active="1",this.activeNumber=parseInt(this.active))}}]),t}()).\u0275fac=function(t){return new(t||z)},z.\u0275cmp=p["\u0275\u0275defineComponent"]({type:z,selectors:[["app-steps"]],inputs:{stepsData:"stepsData",active:"active"},decls:5,vars:2,consts:[[1,"steps"],[1,"lineUl"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"text"],[3,"ngClass"],[1,"stepsIcon"],[1,"radioSelect","radioSelectDisabled",3,"ngClass"],["class","line",3,"ngClass",4,"ngIf"],[1,"line",3,"ngClass"],[4,"ngIf"],["class","title",4,"ngIf"],["class","description",4,"ngIf"],[1,"title"],[1,"description"]],template:function(t,e){1&t&&(p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"ul",1),p["\u0275\u0275template"](2,x,4,7,"li",2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"ul",3),p["\u0275\u0275template"](4,k,3,5,"li",2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&t&&(p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",e.stepsData),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",e.stepsData))},directives:[r.NgForOf,r.NgClass,r.NgIf],styles:['.steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex}li[_ngcontent-%COMP%]{width:100%;list-style-type:none}.lineUl[_ngcontent-%COMP%]{padding:0 10%;margin-bottom:5px}.liWidth[_ngcontent-%COMP%]{width:20px}.stepsIcon[_ngcontent-%COMP%]{display:flex}.radioSelect[_ngcontent-%COMP%]{box-sizing:border-box;display:inline-block;border-radius:100%;border:1px solid #26a2ff;position:relative;width:20px;height:20px;vertical-align:middle;background-color:#26a2ff}.radioSelect[_ngcontent-%COMP%]:after{border-left:0;border-top:0;content:" ";top:3px;left:6px;position:absolute;width:4px;height:8px;border-left-color:#fff;border-bottom:2px solid #fff;border-right:2px solid #fff;border-top-color:#fff;transform:rotate(45deg) scale(1);transition:transform .2s}.radioSelectDisabled[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#ccc}.line[_ngcontent-%COMP%]{display:block;flex:1;height:16px;border-bottom:1px solid #26a2ff;margin-top:-5px;font-size:12px;color:#26a2ff}.lineDefaule[_ngcontent-%COMP%]{border-bottom:1px solid #d9d9d9}.title[_ngcontent-%COMP%]{font-size:14px}.description[_ngcontent-%COMP%]{font-size:12px}.text[_ngcontent-%COMP%]{margin-top:0!important}.limaxWidth[_ngcontent-%COMP%]{width:155px}']}),z),I=function(t,e){return{enabled:t,active:e}};function w(t,e){if(1&t){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"ion-col",7),p["\u0275\u0275listener"]("click",(function(){p["\u0275\u0275restoreView"](n);var t=e.$implicit;return p["\u0275\u0275nextContext"]().ClickOption(t)})),p["\u0275\u0275elementStart"](1,"div",8),p["\u0275\u0275elementStart"](2,"div",9),p["\u0275\u0275element"](3,"img",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"div",11),p["\u0275\u0275text"](5),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&t){var r=e.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction2"](3,I,!r.enable,r.checked)),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate1"]("src","assets/images/",r.icon,".png",p["\u0275\u0275sanitizeUrl"]),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](r.name)}}var O,E,j=[{path:"",component:(O=function(){function t(e,n,r,i,a){var o=this;_classCallCheck(this,t),this.route=e,this.orsv=n,this.router=r,this.storage=i,this.comm=a,this.taskId="",this.wishCount="0",this.taskName="\u9009\u79d1\u4efb\u52a1",this.stepsData=[],this.wish=["\u4e00","\u4e8c","\u4e09"],this.subjectList=[],this.activeStep=1,this.activeNext="\u4e0b\u4e00\u6b65",this.route.paramMap.subscribe((function(t){o.wishCount=t.get("wishCount"),o.taskId=t.get("taskId"),o.taskName=t.get("taskName"),o.remove()}))}return _createClass(t,[{key:"ngOnInit",value:function(){for(var t=parseInt(this.wishCount),e=[],n=0;n<t;n++)e.push({title:"\u7b2c".concat(this.wish[n],"\u5fd7\u613f")});this.stepsData=e,this.loadData()}},{key:"loadData",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.orsv.get_kemu_new(this.taskId,parseInt(this.wishCount));case 2:return t.next=4,this.stepData();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"stepData",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.subjectList=[],t.next=3,this.storage.get("volunteer_".concat(this.activeStep)).then((function(t){e.subjectList=t}));case 3:this.currSelected();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"currSelected",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new c.c,t.next=3,this.orsv.get_kemu_curr_selected(this.taskId,this.activeStep);case 3:e=t.sent,(n=e.options)&&(this.subjectList.forEach((function(t){t.enable=!1})),n.forEach((function(t){r.subjectList.forEach((function(e){e.id==t.optionId&&(e.enable=!0,t.selected&&(e.checked=!0))}))})),this.refreshStorage());case 6:case"end":return t.stop()}}),t,this)})))}},{key:"prev",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=parseInt(this.wishCount),t==n&&(this.activeNext="\u4e0b\u4e00\u6b65"),this.activeStep=t-1,this.stepData(),0==this.activeStep&&(this.remove(),this.router.navigate(["/features/new-select-kemu"]));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"next",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i,a,o,s,c,l,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=parseInt(this.wishCount),t!=n){e.next=20;break}r=!1,i="",a=regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,u.storage.get("volunteer_".concat(e)).then((function(t){var n=t.filter((function(t){return t.checked})).length;console.log(n),n<3&&(i="\u7b2c".concat(u.wish[e-1],"\u5fd7\u613f\uff0c\u672a\u9009\u62e9\u6ee13\u79d1"),r=!0)}));case 3:case"end":return t.stop()}}),t)})),o=1;case 6:if(!(o<=n)){e.next=11;break}return e.delegateYield(a(o),"t0",8);case 8:o++,e.next=6;break;case 11:if(!r){e.next=13;break}return e.abrupt("return",(this.comm.presentToast(i),!1));case 13:return e.next=15,this.comm.loadingPresent();case 15:return s=e.sent,e.next=18,this.orsv.save_kemu_request(this.taskId);case 18:return c=e.sent,e.abrupt("return",(s.dismiss(),0==c?(this.remove(),this.router.navigate(["/features/new-select-kemu/end",{taskId:this.taskId}],{replaceUrl:!0})):this.comm.presentToast("\u4fdd\u5b58\u5931\u8d25!"),!1));case 20:return l=[],e.next=23,this.storage.get("volunteer_".concat(this.activeStep)).then((function(t){l=t}));case 23:if(!(l.filter((function(t){return t.checked})).length<3)){e.next=25;break}return e.abrupt("return",(this.comm.presentToast("\u8bf7\u9009\u6ee13\u95e8\u5b66\u79d1!"),!1));case 25:this.activeStep=t+1,t+1==n&&(this.activeNext="\u5b8c\u6210\u9009\u79d1"),this.stepData();case 26:case"end":return e.stop()}}),e,this)})))}},{key:"ClickOption",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.enable){e.next=2;break}return e.abrupt("return",!1);case 2:if(!t.checked){e.next=6;break}t.checked=!1,e.next=11;break;case 6:if(3!=this.subjectList.filter((function(t){return t.checked})).length){e.next=10;break}return e.next=9,this.comm.presentToast("\u5f53\u524d\u5fd7\u613f\u6700\u5927\u53ea\u80fd\u9009\u62e93\u4e2a\u5fd7\u613f!");case 9:return e.abrupt("return",!1);case 10:t.checked=!0;case 11:return(n=new c.a).fxTaskId=this.taskId,n.optionId=t.id,n.times=this.activeStep,r=new c.b,this.comm.loadingPresent(),e.next=17,this.orsv.set_kemu_clickOtion(n);case 17:r=e.sent,this.comm.loadingDismiss(),this.setOption(r);case 20:case"end":return e.stop()}}),e,this)})))}},{key:"setOption",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.options,this.subjectList.forEach((function(t){if(!t.checked){var e=n.findIndex((function(e){return e==t.id}));t.enable=!(e<0)}})),this.refreshStorage();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"remove",value:function(){for(var t=1;t<=parseInt(this.wishCount);t++)this.storage.remove("volunteer_".concat(t))}},{key:"refreshStorage",value:function(){this.storage.set("volunteer_".concat(this.activeStep),this.subjectList)}}]),t}(),O.\u0275fac=function(t){return new(t||O)(p["\u0275\u0275directiveInject"](o.a),p["\u0275\u0275directiveInject"](l.a),p["\u0275\u0275directiveInject"](o.g),p["\u0275\u0275directiveInject"](f.b),p["\u0275\u0275directiveInject"](u.a))},O.\u0275cmp=p["\u0275\u0275defineComponent"]({type:O,selectors:[["app-select"]],decls:20,vars:5,consts:[["slot","start"],["defaultHref","tabs"],[2,"--background","#F6F6F6"],[3,"stepsData","active"],["size","6",3,"click",4,"ngFor","ngForOf"],["color","white","expand","block",3,"click"],["expand","block",3,"click"],["size","6",3,"click"],[1,"normal",3,"ngClass"],[2,"text-align","center"],[2,"width","80%",3,"src"],[2,"font-size","16px","font-weight","600"]],template:function(t,e){1&t&&(p["\u0275\u0275elementStart"](0,"ion-header"),p["\u0275\u0275elementStart"](1,"ion-toolbar"),p["\u0275\u0275elementStart"](2,"ion-buttons",0),p["\u0275\u0275element"](3,"ion-back-button",1),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"ion-title"),p["\u0275\u0275text"](5),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"ion-content",2),p["\u0275\u0275element"](7,"app-steps",3),p["\u0275\u0275elementStart"](8,"ion-grid"),p["\u0275\u0275elementStart"](9,"ion-row"),p["\u0275\u0275template"](10,w,6,6,"ion-col",4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](11,"ion-footer"),p["\u0275\u0275elementStart"](12,"ion-grid"),p["\u0275\u0275elementStart"](13,"ion-row"),p["\u0275\u0275elementStart"](14,"ion-col"),p["\u0275\u0275elementStart"](15,"ion-button",5),p["\u0275\u0275listener"]("click",(function(){return e.prev(e.activeStep)})),p["\u0275\u0275text"](16,"\u4e0a\u4e00\u6b65"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"ion-col"),p["\u0275\u0275elementStart"](18,"ion-button",6),p["\u0275\u0275listener"]("click",(function(){return e.next(e.activeStep)})),p["\u0275\u0275text"](19),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&t&&(p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate"](e.taskName),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("stepsData",e.stepsData)("active",e.activeStep),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngForOf",e.subjectList),p["\u0275\u0275advance"](9),p["\u0275\u0275textInterpolate"](e.activeNext))},directives:[a.IonHeader,a.IonToolbar,a.IonButtons,a.IonBackButton,a.IonBackButtonDelegate,a.IonTitle,a.IonContent,y,a.IonGrid,a.IonRow,r.NgForOf,a.IonFooter,a.IonCol,a.IonButton,r.NgClass],styles:[".normal[_ngcontent-%COMP%]{padding:10px;background:#fff;border-radius:10px;color:#000}.active[_ngcontent-%COMP%]{background:#7bd721!important;color:#fff}.enabled[_ngcontent-%COMP%]{background:#e7eaf3!important;color:#ccc}.ion-color-white[_ngcontent-%COMP%]{--ion-color-base:#fff!important;--ion-color-base-rgb:var(--ion-color-light-rgb,244,245,248)!important;--ion-color-contrast:var(--ion-color-light-contrast,#000)!important;--ion-color-contrast-rgb:var(--ion-color-light-contrast-rgb,0,0,0)!important;--ion-color-shade:var(--ion-color-light-shade,#fff)!important;--ion-color-tint:var(--ion-color-light-tint,#fff)!important}"]}),O)}],_=((E=function t(){_classCallCheck(this,t)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:E}),E.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||E)},imports:[[o.i.forChild(j)],o.i]}),E),M=n("Ql/B");n.d(e,"SelectPageModule",(function(){return P}));var D,P=((D=function t(){_classCallCheck(this,t)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:D}),D.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||D)},imports:[[r.CommonModule,i.FormsModule,a.IonicModule,_,M.a]]}),D)},"Ql/B":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("ofXK"),i=n("TEn/"),a=n("3Pt+"),o=n("UMfn"),s=n("xiOZ"),c=n("/l6y"),l=n("L1u3"),u=n("8pq7"),p=n("ZE2D"),f=n("DKVz"),d=n("DXzV"),h=n("fXoL"),m=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=h["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[r.CommonModule,i.IonicModule,a.FormsModule,o.a,s.b,c.d,u.c,u.b,u.e,u.a,u.f,l.b,f.a,p.b,d.b],o.a,l.b,u.c,u.b,u.e,u.a,u.f,p.b,d.b]}),t}()},ZE2D:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return g}));var r=n("207e"),i=n("JMSK"),a=n("fXoL"),o=n("2Suw"),s=n("/KA4"),c=n("IjuJ"),l=n("ofXK"),u=n("FwiY"),p=["textEl"];function f(t,e){if(1&t&&a["\u0275\u0275element"](0,"i",3),2&t){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("nzType",n.nzIcon)}}function d(t,e){if(1&t){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"img",4),a["\u0275\u0275listener"]("error",(function(t){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().imgError(t)})),a["\u0275\u0275elementEnd"]()}if(2&t){var r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("src",r.nzSrc,a["\u0275\u0275sanitizeUrl"]),a["\u0275\u0275attribute"]("srcset",r.nzSrcSet,a["\u0275\u0275sanitizeUrl"])("alt",r.nzAlt)}}function h(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"span",5,6),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"]()),2&t){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("ngStyle",n.textStyles),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.nzText)}}var m=["*"],v=function(){var t=function(){function t(e,n,r,i){_classCallCheck(this,t),this.nzConfigService=e,this.elementRef=n,this.cdr=r,this.platform=i,this._nzModuleName="avatar",this.nzShape="circle",this.nzSize="default",this.nzGap=4,this.nzError=new a.EventEmitter,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.textStyles={},this.classMap={},this.customSize=null,this.el=this.elementRef.nativeElement,this.elementRef.nativeElement.classList.add("ant-avatar")}return _createClass(t,[{key:"imgError",value:function(t){this.nzError.emit(t),t.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.notifyCalc())}},{key:"ngOnChanges",value:function(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.notifyCalc()}},{key:"calcStringSize",value:function(){if(this.hasText){var t=this.textEl.nativeElement.offsetWidth,e=this.el.getBoundingClientRect().width,n=2*this.nzGap<e?2*this.nzGap:8;this.textStyles={transform:"scale(".concat(e-n<t?(e-n)/t:1,") translateX(-50%)")},this.customSize&&Object.assign(this.textStyles,{lineHeight:this.customSize}),this.cdr.detectChanges()}}},{key:"notifyCalc",value:function(){var t=this;this.platform.isBrowser&&setTimeout((function(){t.calcStringSize()}))}},{key:"setSizeStyle",value:function(){this.customSize="number"==typeof this.nzSize?"".concat(this.nzSize,"px"):null,this.cdr.markForCheck()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](o.a),a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](a.ChangeDetectorRef),a["\u0275\u0275directiveInject"](i.a))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["nz-avatar"]],viewQuery:function(t,e){var n;1&t&&a["\u0275\u0275viewQuery"](p,!0),2&t&&a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(e.textEl=n.first)},hostVars:20,hostBindings:function(t,e){2&t&&(a["\u0275\u0275styleProp"]("width",e.customSize)("height",e.customSize)("line-height",e.customSize)("font-size",e.hasIcon&&e.customSize?e.nzSize/2:null,"px"),a["\u0275\u0275classProp"]("ant-avatar-lg","large"===e.nzSize)("ant-avatar-sm","small"===e.nzSize)("ant-avatar-square","square"===e.nzShape)("ant-avatar-circle","circle"===e.nzShape)("ant-avatar-icon",e.nzIcon)("ant-avatar-image",e.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:"nzGap",nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon"},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],features:[a["\u0275\u0275NgOnChangesFeature"]],decls:3,vars:3,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[3,"src","error",4,"ngIf"],["class","ant-avatar-string",3,"ngStyle",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"src","error"],[1,"ant-avatar-string",3,"ngStyle"],["textEl",""]],template:function(t,e){1&t&&(a["\u0275\u0275template"](0,f,1,1,"i",0),a["\u0275\u0275template"](1,d,1,3,"img",1),a["\u0275\u0275template"](2,h,3,2,"span",2)),2&t&&(a["\u0275\u0275property"]("ngIf",e.nzIcon&&e.hasIcon),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.nzSrc&&e.hasSrc),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.nzText&&e.hasText))},directives:[l.NgIf,u.a,l.NgStyle],encapsulation:2,changeDetection:0}),Object(r.a)([Object(o.b)(),Object(r.b)("design:type",String)],t.prototype,"nzShape",void 0),Object(r.a)([Object(o.b)(),Object(r.b)("design:type",Object)],t.prototype,"nzSize",void 0),Object(r.a)([Object(o.b)(),Object(s.b)(),Object(r.b)("design:type",Object)],t.prototype,"nzGap",void 0),t}(),g=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["nz-avatar-group"]],hostAttrs:[1,"ant-avatar-group"],exportAs:["nzAvatarGroup"],ngContentSelectors:m,decls:1,vars:0,template:function(t,e){1&t&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275projection"](0))},encapsulation:2,changeDetection:0}),t}(),x=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[c.a,l.CommonModule,u.b,i.b]]}),t}()}}]);