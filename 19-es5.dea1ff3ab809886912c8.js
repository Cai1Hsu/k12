function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"0WVm":function(e,t,n){"use strict";n.r(t);var r=n("ofXK"),o=n("3Pt+"),i=n("TEn/"),a=n("tyNb"),c=n("mrSG"),s=n("26ZW"),l=n("qXBG"),u=n("LWQN"),d=n("fXoL"),m=n("e8h1");function f(e,t){1&e&&d["\u0275\u0275element"](0,"ion-icon",9)}function p(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p"),d["\u0275\u0275text"](1,"\u9002\u5408\u9ad8\u5e74\u7ea7\u5b66\u751f\u4f7f\u7528"),d["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"ion-card",3),d["\u0275\u0275listener"]("click",(function(e){d["\u0275\u0275restoreView"](n);var r=t.$implicit;return d["\u0275\u0275nextContext"]().selectCard(e,r)})),d["\u0275\u0275elementStart"](1,"ion-card-content"),d["\u0275\u0275elementStart"](2,"ion-item",4),d["\u0275\u0275elementStart"](3,"ion-label"),d["\u0275\u0275elementStart"](4,"h1",5),d["\u0275\u0275template"](5,f,1,0,"ion-icon",6),d["\u0275\u0275text"](6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](7,p,2,0,"p",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275namespaceSVG"](),d["\u0275\u0275elementStart"](8,"svg",8),d["\u0275\u0275element"](9,"use"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,o=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",null!=o.currentRole&&o.currentRole.roleID==r.roleID),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",r.roleName," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",5==r.userType),d["\u0275\u0275advance"](2),d["\u0275\u0275attribute"]("href",o.getRoleImg(r),null,"xlink")}}var g,v,x=[{path:"",component:(g=function(){function e(t,n,r,o,i,a,c){var s=this;_classCallCheck(this,e),this.storage=t,this.theRoute=n,this.nav=r,this.alertController=o,this.osrv=i,this.auth=a,this.comm=c,this.storage.get("USER_INFO").then((function(e){s.roles=e.roles})),this.storage.get("USER_ROLE").then((function(e){s.currentRole=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"selectCard",value:function(e,t){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,s,l=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=e.currentTarget,o=document.getElementsByTagName(r.tagName),i=o.length,a=0;a<i;a++)o[a].style.border="none";return r.style.border="2px solid #3880ff",this.role=t,n.next=6,this.storage.remove("USER_ROLE");case 6:return n.next=8,this.storage.set("USER_ROLE",this.role);case 8:return s=this.role.roleID,this.comm.loadingPresent(),n.next=12,this.osrv.getRoleApp(s).then((function(e){return Object(c.a)(l,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.code){t.next=19;break}return t.next=3,this.osrv.getUsercommonlyApp(s);case 3:if(n=t.sent,this.comm.loadingDismiss(),0!==n.code){t.next=15;break}return t.next=7,this.auth.get_user();case 7:return(r=t.sent).myMobileAppList=e.data,r.myMobileUsuallyAppList=n.data,t.next=12,this.storage.set("USER_INFO",r);case 12:this.theRoute.navigate(["tabs/me"],{skipLocationChange:!0,replaceUrl:!0}),t.next=17;break;case 15:return t.next=17,this.showTips("\u5207\u6362\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458");case 17:t.next=21;break;case 19:return t.next=21,this.showTips("\u5207\u6362\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458");case 21:case"end":return t.stop()}}),t,this)})))}));case 12:case"end":return n.stop()}}),n,this)})))}},{key:"getRoleImg",value:function(e){var t="#";switch(e.userType){case 5:t+="iconxuesheng2";break;case 2:t+="iconguanliyuan";break;case 4:t+="icondaoshi";break;case 7:t+="iconjiaoshi1";break;case 6:t+="iconjiachang"}return t}},{key:"showTips",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({message:e});case 2:return n=t.sent,t.next=5,n.present();case 5:setTimeout((function(){n.remove()}),1e3);case 6:case"end":return t.stop()}}),t,this)})))}}]),e}(),g.\u0275fac=function(e){return new(e||g)(d["\u0275\u0275directiveInject"](m.b),d["\u0275\u0275directiveInject"](a.g),d["\u0275\u0275directiveInject"](i.NavController),d["\u0275\u0275directiveInject"](i.AlertController),d["\u0275\u0275directiveInject"](s.a),d["\u0275\u0275directiveInject"](l.a),d["\u0275\u0275directiveInject"](u.a))},g.\u0275cmp=d["\u0275\u0275defineComponent"]({type:g,selectors:[["app-change-role"]],decls:8,vars:1,consts:[["slot","start"],["defaultHref","tabs"],["color","light",3,"click",4,"ngFor","ngForOf"],["color","light",3,"click"],["lines","none","color","light"],[2,"font-size","22px"],["class","iconfont iconxingbiao ym-font","color","warning","style","font-size:20px; ",4,"ngIf"],[4,"ngIf"],["slot","end","aria-hidden","true",1,"icon"],["color","warning",1,"iconfont","iconxingbiao","ym-font",2,"font-size","20px"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"ion-header"),d["\u0275\u0275elementStart"](1,"ion-toolbar"),d["\u0275\u0275elementStart"](2,"ion-buttons",0),d["\u0275\u0275element"](3,"ion-back-button",1),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"ion-title"),d["\u0275\u0275text"](5,"\u89d2\u8272\u5207\u6362"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"ion-content"),d["\u0275\u0275template"](7,h,10,4,"ion-card",2),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngForOf",t.roles))},directives:[i.IonHeader,i.IonToolbar,i.IonButtons,i.IonBackButton,i.IonBackButtonDelegate,i.IonTitle,i.IonContent,r.NgForOf,i.IonCard,i.IonCardContent,i.IonItem,i.IonLabel,r.NgIf,i.IonIcon],styles:["p[_ngcontent-%COMP%]{color:#a9a9a9!important;text-align:center;font-size:14px;margin-left:-10px}ion-card[_ngcontent-%COMP%]{margin-top:30px;border-radius:60px}ion-card[_ngcontent-%COMP%]:first-child{margin-top:80px}.card-content-ios[_ngcontent-%COMP%]{padding:0}ion-thumbnail[_ngcontent-%COMP%]{width:100px;height:100px}ion-item[_ngcontent-%COMP%]{height:100px}ion-label[_ngcontent-%COMP%]{margin-left:1.5em}h1[_ngcontent-%COMP%]{padding-left:0}.current_role[_ngcontent-%COMP%]{position:absolute;z-index:1000;left:50px;top:15px}.icon[_ngcontent-%COMP%]{width:6em;height:6em;vertical-align:-.15em;fill:currentColor;overflow:hidden}"]}),g)}],b=((v=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:v}),v.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||v)},imports:[[a.i.forChild(x)],a.i]}),v);n.d(t,"ChangeRolePageModule",(function(){return I}));var C,I=((C=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:C}),C.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||C)},imports:[[r.CommonModule,o.FormsModule,i.IonicModule,b]]}),C)}}]);