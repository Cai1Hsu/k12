(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{pjjl:function(n,e,t){"use strict";t.r(e);var o=t("ofXK"),i=t("3Pt+"),r=t("TEn/"),a=t("tyNb"),s=t("mrSG"),c=t("BLr9"),l=t("jHbz"),d=t("fXoL");const g=[{path:"",component:(()=>{class n{constructor(n,e,t,o){this.qrScanner=n,this.toast=e,this.audio=t,this.router=o,this.readyToScan=!1,this.scanning=!1}ngOnInit(){this.prepareScanner()}ngOnDestroy(){this.stopScanning()}ngAfterViewInit(){this.audio.preload("scanbeep","assets/sounds/qr_code_beep.mp3")}prepareScanner(){this.qrScanner.prepare().then(n=>{if(n.authorized){console.log("Camera permision authorized"),this.readyToScan=!0,this.scanning=!0;let n=this.qrScanner.scan().subscribe(e=>{this.audio.play("scanbeep"),console.log("Scanned something",e),this.navto(e),this.qrScanner.hide(),n.unsubscribe()});this.startScanning()}else n.denied?console.log("Camera permission permanently denied"):console.log("Camera permision temporarily denied")}).catch(n=>{console.log("Error is",n)})}toggleScanner(){this.scanning=!this.scanning,console.log("Toggled Scanner",this.scanning),this.scanning?this.startScanning():this.stopScanning()}startScanning(){console.log("Started Scanning"),window.document.querySelector("html").classList.add("cameraView"),this.qrScanner.show()}stopScanning(){console.log("Stopped Scanning"),window.document.querySelector("html").classList.remove("cameraView"),this.qrScanner.hide(),this.qrScanner.destroy()}presentToast(n){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.toast.create({message:n,color:"dark",duration:2e3})).present()}))}navto(n){this.stopScanning(),this.router.navigate(["/tabs/features/equipment"])}}return n.\u0275fac=function(e){return new(e||n)(d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](r.ToastController),d["\u0275\u0275directiveInject"](l.a),d["\u0275\u0275directiveInject"](a.g))},n.\u0275cmp=d["\u0275\u0275defineComponent"]({type:n,selectors:[["app-qrscanner"]],decls:9,vars:0,consts:[["slot","start"],["defaultHref","tabs"],["id","container"],["src","assets/images/scan.gif",2,"width","128px","height","128px"]],template:function(n,e){1&n&&(d["\u0275\u0275elementStart"](0,"ion-header"),d["\u0275\u0275elementStart"](1,"ion-toolbar"),d["\u0275\u0275elementStart"](2,"ion-buttons",0),d["\u0275\u0275element"](3,"ion-back-button",1),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"ion-title"),d["\u0275\u0275text"](5,"\u626b\u63cf\u4e8c\u7ef4\u7801"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"ion-content"),d["\u0275\u0275elementStart"](7,"div",2),d["\u0275\u0275element"](8,"img",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())},directives:[r.IonHeader,r.IonToolbar,r.IonButtons,r.IonBackButton,r.IonBackButtonDelegate,r.IonTitle,r.IonContent],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-background-color,transparent)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})()}];let p=(()=>{class n{}return n.\u0275mod=d["\u0275\u0275defineNgModule"]({type:n}),n.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||n)},imports:[[a.i.forChild(g)],a.i]}),n})();t.d(e,"QrscannerPageModule",(function(){return h}));let h=(()=>{class n{}return n.\u0275mod=d["\u0275\u0275defineNgModule"]({type:n}),n.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||n)},imports:[[o.CommonModule,i.FormsModule,r.IonicModule,p]]}),n})()}}]);