function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{q14d:function(e,t,n){"use strict";n.r(t);var r=n("ofXK"),i=n("3Pt+"),o=n("TEn/"),a=n("tyNb"),s=n("mrSG"),c=n("IYK9"),l=n("qXBG"),u=n("fXoL"),d=n("zxQZ");function h(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"ion-item",9),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=t.$implicit;return u["\u0275\u0275nextContext"](2).kick(e)})),u["\u0275\u0275elementStart"](1,"ion-avatar",0),u["\u0275\u0275element"](2,"img",10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"ion-label"),u["\u0275\u0275elementStart"](4,"h3"),u["\u0275\u0275text"](5),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"ion-note",11),u["\u0275\u0275elementStart"](7,"p"),u["\u0275\u0275text"](8),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("src",r.avatar,u["\u0275\u0275sanitizeUrl"]),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",r.student_name," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",r.exam_course," ")}}function m(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"ion-item-group"),u["\u0275\u0275elementStart"](1,"ion-item-divider"),u["\u0275\u0275elementStart"](2,"h6"),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](4,h,9,3,"ion-item",8),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](n.class_name),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",n.student_list)}}var f,p,g=[{path:"",component:(f=function(){function e(t,n,r,i){_classCallCheck(this,e),this.examService=t,this.activeRouter=n,this.router=r,this.auth=i,this.pageIndex=1,this.pageSize=3,this.search_word="",this.loading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.activeRouter.params.subscribe((function(e){t.examId=e.id})),e.next=3,this.auth.get_user();case 3:return this.user=e.sent,e.next=6,this.auth.is_teacher();case 6:this.isTeacher=e.sent,this.load();case 8:case"end":return e.stop()}}),e,this)})))}},{key:"load",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pageSize=this.search_word.length>0?10:3,this.loading=!0,e.next=4,this.examService.getStudentList(this.examId,this.search_word,this.pageIndex,this.pageSize);case 4:this.theGroupList=e.sent,this.loading=!1;case 6:case"end":return e.stop()}}),e,this)})))}},{key:"doRefresh",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){n.ngOnInit(),e.target.complete()}),2e3);case 1:case"end":return t.stop()}}),t)})))}},{key:"loadData",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.pageIndex+=1,this.loading=!0,t.next=3,this.examService.getStudentList(this.examId,this.search_word,this.pageIndex,this.pageSize);case 3:0==(n=t.sent).length?e.target.disabled=!0:this.theGroupList=this.theGroupList.concat(n),e.target.complete(),this.loading=!1;case 5:case"end":return t.stop()}}),t,this)})))}},{key:"kick",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.router.navigate(["/features/exams/exam-student-detail",{studentId:"",studentNo:e.student_No,examId:this.examId}]);case 1:case"end":return t.stop()}}),t,this)})))}}]),e}(),f.\u0275fac=function(e){return new(e||f)(u["\u0275\u0275directiveInject"](c.a),u["\u0275\u0275directiveInject"](a.a),u["\u0275\u0275directiveInject"](a.g),u["\u0275\u0275directiveInject"](l.a))},f.\u0275cmp=u["\u0275\u0275defineComponent"]({type:f,selectors:[["app-exam-detail"]],decls:15,vars:5,consts:[["slot","start"],["defaultHref","tabs"],["placeholder","\u5b66\u751f\u59d3\u540d/\u5b66\u53f7","debounce","500",3,"animated","ngModel","ionChange","ngModelChange"],[3,"show","loading"],[4,"ngFor","ngForOf"],["slot","fixed",3,"ionRefresh"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","\u6b63\u5728\u52a0\u8f7d\u6570\u636e"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[3,"src"],[2,"font-size","x-small"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"ion-header"),u["\u0275\u0275elementStart"](1,"ion-toolbar"),u["\u0275\u0275elementStart"](2,"ion-buttons",0),u["\u0275\u0275element"](3,"ion-back-button",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"ion-title"),u["\u0275\u0275text"](5,"\u8003\u8bd5\u8be6\u60c5"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"ion-content"),u["\u0275\u0275elementStart"](7,"ion-searchbar",2),u["\u0275\u0275listener"]("ionChange",(function(){return t.load()}))("ngModelChange",(function(e){return t.search_word=e})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](8,"app-loading-process",3),u["\u0275\u0275elementStart"](9,"ion-list"),u["\u0275\u0275template"](10,m,5,2,"ion-item-group",4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"ion-refresher",5),u["\u0275\u0275listener"]("ionRefresh",(function(e){return t.doRefresh(e)})),u["\u0275\u0275element"](12,"ion-refresher-content"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"ion-infinite-scroll",6),u["\u0275\u0275listener"]("ionInfinite",(function(e){return t.loadData(e)})),u["\u0275\u0275element"](14,"ion-infinite-scroll-content",7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](7),u["\u0275\u0275property"]("animated",!0)("ngModel",t.search_word),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("show",!t.theGroupList||0==t.theGroupList.length)("loading",t.loading),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",t.theGroupList))},directives:[o.IonHeader,o.IonToolbar,o.IonButtons,o.IonBackButton,o.IonBackButtonDelegate,o.IonTitle,o.IonContent,o.IonSearchbar,o.TextValueAccessor,i.NgControlStatus,i.NgModel,d.a,o.IonList,r.NgForOf,o.IonRefresher,o.IonRefresherContent,o.IonInfiniteScroll,o.IonInfiniteScrollContent,o.IonItemGroup,o.IonItemDivider,o.IonItem,o.IonAvatar,o.IonLabel,o.IonNote],styles:[""]}),f)}],v=((p=function e(){_classCallCheck(this,e)}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:p}),p.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||p)},imports:[[a.i.forChild(g)],a.i]}),p),I=n("Ql/B");n.d(t,"ExamDetailPageModule",(function(){return S}));var x,S=((x=function e(){_classCallCheck(this,e)}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:x}),x.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||x)},imports:[[r.CommonModule,i.FormsModule,o.IonicModule,v,I.a]]}),x)}}]);