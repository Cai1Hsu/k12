function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{pjjl:function(n,e,t){"use strict";t.r(e);var o,r,i=t("ofXK"),a=t("3Pt+"),c=t("TEn/"),s=t("tyNb"),l=t("mrSG"),u=t("BLr9"),d=t("jHbz"),p=t("fXoL"),g=[{path:"",component:(o=function(){function n(e,t,o,r){_classCallCheck(this,n),this.qrScanner=e,this.toast=t,this.audio=o,this.router=r,this.readyToScan=!1,this.scanning=!1}return _createClass(n,[{key:"ngOnInit",value:function(){this.prepareScanner()}},{key:"ngOnDestroy",value:function(){this.stopScanning()}},{key:"ngAfterViewInit",value:function(){this.audio.preload("scanbeep","assets/sounds/qr_code_beep.mp3")}},{key:"prepareScanner",value:function(){var n=this;this.qrScanner.prepare().then((function(e){if(e.authorized){console.log("Camera permision authorized"),n.readyToScan=!0,n.scanning=!0;var t=n.qrScanner.scan().subscribe((function(e){n.audio.play("scanbeep"),console.log("Scanned something",e),n.navto(e),n.qrScanner.hide(),t.unsubscribe()}));n.startScanning()}else e.denied?console.log("Camera permission permanently denied"):console.log("Camera permision temporarily denied")})).catch((function(n){console.log("Error is",n)}))}},{key:"toggleScanner",value:function(){this.scanning=!this.scanning,console.log("Toggled Scanner",this.scanning),this.scanning?this.startScanning():this.stopScanning()}},{key:"startScanning",value:function(){console.log("Started Scanning"),window.document.querySelector("html").classList.add("cameraView"),this.qrScanner.show()}},{key:"stopScanning",value:function(){console.log("Stopped Scanning"),window.document.querySelector("html").classList.remove("cameraView"),this.qrScanner.hide(),this.qrScanner.destroy()}},{key:"presentToast",value:function(n){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toast.create({message:n,color:"dark",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"navto",value:function(n){this.stopScanning(),this.router.navigate(["/tabs/features/equipment"])}}]),n}(),o.\u0275fac=function(n){return new(n||o)(p["\u0275\u0275directiveInject"](u.a),p["\u0275\u0275directiveInject"](c.ToastController),p["\u0275\u0275directiveInject"](d.a),p["\u0275\u0275directiveInject"](s.g))},o.\u0275cmp=p["\u0275\u0275defineComponent"]({type:o,selectors:[["app-qrscanner"]],decls:9,vars:0,consts:[["slot","start"],["defaultHref","tabs"],["id","container"],["src","assets/images/scan.gif",2,"width","128px","height","128px"]],template:function(n,e){1&n&&(p["\u0275\u0275elementStart"](0,"ion-header"),p["\u0275\u0275elementStart"](1,"ion-toolbar"),p["\u0275\u0275elementStart"](2,"ion-buttons",0),p["\u0275\u0275element"](3,"ion-back-button",1),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"ion-title"),p["\u0275\u0275text"](5,"\u626b\u63cf\u4e8c\u7ef4\u7801"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"ion-content"),p["\u0275\u0275elementStart"](7,"div",2),p["\u0275\u0275element"](8,"img",3),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]())},directives:[c.IonHeader,c.IonToolbar,c.IonButtons,c.IonBackButton,c.IonBackButtonDelegate,c.IonTitle,c.IonContent],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-background-color,transparent)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),o)}],f=((r=function n(){_classCallCheck(this,n)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:r}),r.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(n){return new(n||r)},imports:[[s.i.forChild(g)],s.i]}),r);t.d(e,"QrscannerPageModule",(function(){return m}));var h,m=((h=function n(){_classCallCheck(this,n)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:h}),h.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(n){return new(n||h)},imports:[[i.CommonModule,a.FormsModule,c.IonicModule,f]]}),h)}}]);