(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{sV7l:function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),o=n("3Pt+"),a=n("TEn/"),i=n("tyNb"),s=n("mrSG"),l=n("ZuI5"),d=n("26ZW"),c=n("qXBG"),m=n("AytR"),u=n("LWQN"),h=n("fXoL");function p(t,e){if(1&t){const t=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"ion-button",9),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](t);const e=h["\u0275\u0275nextContext"](3);return e.refound(e.the_student_tutor)})),h["\u0275\u0275elementStart"](1,"ion-label"),h["\u0275\u0275elementStart"](2,"p"),h["\u0275\u0275text"](3," \u9000\u9009 "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}}function f(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"ion-item"),h["\u0275\u0275elementStart"](1,"ion-thumbnail",5),h["\u0275\u0275element"](2,"img",6),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"ion-label"),h["\u0275\u0275elementStart"](4,"h3"),h["\u0275\u0275text"](5),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](6,"p"),h["\u0275\u0275text"](7),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](8,"ion-label",7),h["\u0275\u0275text"](9),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](10,p,4,0,"ion-button",8),h["\u0275\u0275elementEnd"]()),2&t){const t=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("src",t.the_student_tutor.avatar_url,h["\u0275\u0275sanitizeUrl"]),h["\u0275\u0275advance"](3),h["\u0275\u0275textInterpolate1"](" \xa0\xa0 ",t.the_student_tutor.name," "),h["\u0275\u0275advance"](2),h["\u0275\u0275textInterpolate1"](" \xa0\xa0 ",t.the_student_tutor.class_name," "),h["\u0275\u0275advance"](2),h["\u0275\u0275textInterpolate2"]("",t.the_student_tutor.actual," / ",t.the_student_tutor.max," "),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",3==t.the_record.taskState)}}function _(t,e){if(1&t){const t=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"ion-item",10),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](t);const n=e.$implicit,r=h["\u0275\u0275nextContext"](2);return 3!=r.the_record.taskState||r.the_student_tutor?"":r.choose(n)})),h["\u0275\u0275elementStart"](1,"ion-thumbnail",5),h["\u0275\u0275element"](2,"img",6),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"ion-label"),h["\u0275\u0275elementStart"](4,"h3"),h["\u0275\u0275text"](5),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](6,"p"),h["\u0275\u0275text"](7),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](8,"ion-badge"),h["\u0275\u0275text"](9),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=h["\u0275\u0275nextContext"](2);h["\u0275\u0275propertyInterpolate"]("disabled",3!=n.the_record.taskState&&t.actual>=t.max),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("src",t.avatar_url,h["\u0275\u0275sanitizeUrl"]),h["\u0275\u0275advance"](3),h["\u0275\u0275textInterpolate1"](" \xa0\xa0 ",t.name," "),h["\u0275\u0275advance"](2),h["\u0275\u0275textInterpolate1"](" \xa0\xa0 ",t.class_name," "),h["\u0275\u0275advance"](2),h["\u0275\u0275textInterpolate2"](" ",t.actual," / ",t.max," ")}}function v(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"ion-list"),h["\u0275\u0275elementStart"](1,"ion-item"),h["\u0275\u0275elementStart"](2,"ion-label"),h["\u0275\u0275elementStart"](3,"h3"),h["\u0275\u0275text"](4),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"p"),h["\u0275\u0275text"](6),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](7,"p"),h["\u0275\u0275text"](8),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](9,"ion-item-divider",3),h["\u0275\u0275elementStart"](10,"h6"),h["\u0275\u0275text"](11,"\u5df2\u9009\u5bfc\u5e08\u73ed"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](12,f,11,6,"ion-item",2),h["\u0275\u0275elementStart"](13,"ion-item-divider",3),h["\u0275\u0275elementStart"](14,"h6"),h["\u0275\u0275text"](15,"\u5f85\u9009\u5bfc\u5e08\u73ed"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](16,_,10,6,"ion-item",4),h["\u0275\u0275elementEnd"]()),2&t){const t=h["\u0275\u0275nextContext"]();h["\u0275\u0275advance"](4),h["\u0275\u0275textInterpolate1"](" ",t.the_record.name," "),h["\u0275\u0275advance"](2),h["\u0275\u0275textInterpolate2"](" ",t.the_record.status," / ",t.the_record.grade_name," "),h["\u0275\u0275advance"](2),h["\u0275\u0275textInterpolate1"](" ",t.the_record.date," "),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("ngIf",t.the_student_tutor),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("ngForOf",t.the_record.tutors)}}const I=[{path:"",component:(()=>{class t{constructor(t,e,n,r,o){this.osrv=t,this.route=e,this.router=n,this.auth=r,this.comm=o,this.the_filter=new l.b,this.params=new l.a}ngOnInit(){this.route.params.subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){this.the_filter.taskId=t.id,this.params.taskId=this.the_filter.taskId,this.user=yield this.auth.get_user(),this.params.studentSerialNo=this.user.userCode,this.init()})))}init(){return Object(s.a)(this,void 0,void 0,(function*(){var t=yield this.comm.loadingPresent();this.user=yield this.auth.get_user(),this.the_filter.userType=this.user.roles[0].userType,this.the_filter.userCode=this.user.userCode,this.load(),t.dismiss()}))}load(){return Object(s.a)(this,void 0,void 0,(function*(){this.the_record=(yield this.osrv.get_select_tutor_detail_bystudent(this.the_filter)).data,this.the_student_tutor=this.the_record.tutors.find(t=>t.selected),this.the_record.tutors.filter(t=>{""!=t.avatar_url&&null!=t.avatar_url||(t.avatar_url=m.a.default_avatar)})}))}refound(t){return Object(s.a)(this,void 0,void 0,(function*(){yield this.comm.presentAlert("\u6e29\u99a8\u63d0\u793a",null,"\u4f60\u786e\u5b9a\u8981\u9000\u9009\u8be5\u6559\u5e08\u5bfc\u5e08\u73ed\u5417\uff1f",[{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary",handler:t=>{}},{text:"\u786e\u5b9a",handler:()=>Object(s.a)(this,void 0,void 0,(function*(){this.params.courseId=t.id;let e=yield this.osrv.select_tutor_refound(this.params);0==e.code?(this.comm.presentToast("\u64cd\u4f5c\u6210\u529f\uff01"),this.load()):this.comm.presentToast(e.msg)}))}])}))}choose(t){return Object(s.a)(this,void 0,void 0,(function*(){t.actual!=t.max?yield this.comm.presentAlert("\u6e29\u99a8\u63d0\u793a",null,"\u4f60\u786e\u5b9a\u8981\u9009\u62e9\u8be5\u6559\u5e08\u5bfc\u5e08\u73ed\u5417\uff1f",[{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary",handler:t=>{}},{text:"\u786e\u5b9a",handler:()=>Object(s.a)(this,void 0,void 0,(function*(){this.params.courseId=t.id;let e=yield this.osrv.select_tutor_choose(this.params);0==e.code?(this.comm.presentToast("\u64cd\u4f5c\u6210\u529f\uff01"),this.load()):this.comm.presentToast(e.msg)}))}]):this.comm.presentToast("\u8be5\u5bfc\u5e08\u73ed\u5df2\u9009\u6ee1\uff01")}))}}return t.\u0275fac=function(e){return new(e||t)(h["\u0275\u0275directiveInject"](d.a),h["\u0275\u0275directiveInject"](i.a),h["\u0275\u0275directiveInject"](i.g),h["\u0275\u0275directiveInject"](c.a),h["\u0275\u0275directiveInject"](u.a))},t.\u0275cmp=h["\u0275\u0275defineComponent"]({type:t,selectors:[["app-student-select-tutor"]],decls:8,vars:1,consts:[["slot","start"],["defaultHref","tabs"],[4,"ngIf"],["id","course_group"],[3,"disabled","click",4,"ngFor","ngForOf"],[1,"avatar"],[1,"avatar-image",3,"src"],["color","primary",2,"font-size","small"],["size","small","color","danger",3,"click",4,"ngIf"],["size","small","color","danger",3,"click"],[3,"disabled","click"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"ion-header"),h["\u0275\u0275elementStart"](1,"ion-toolbar"),h["\u0275\u0275elementStart"](2,"ion-buttons",0),h["\u0275\u0275element"](3,"ion-back-button",1),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](4,"ion-title"),h["\u0275\u0275text"](5,"\u9009\u5bfc\u5e08"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](6,"ion-content"),h["\u0275\u0275template"](7,v,17,6,"ion-list",2),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](7),h["\u0275\u0275property"]("ngIf",e.the_record))},directives:[a.IonHeader,a.IonToolbar,a.IonButtons,a.IonBackButton,a.IonBackButtonDelegate,a.IonTitle,a.IonContent,r.NgIf,a.IonList,a.IonItem,a.IonLabel,a.IonItemDivider,r.NgForOf,a.IonThumbnail,a.IonButton,a.IonBadge],styles:[""]}),t})()}];let x=(()=>{class t{}return t.\u0275mod=h["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.i.forChild(I)],i.i]}),t})();n.d(e,"StudentSelectTutorPageModule",(function(){return S}));let S=(()=>{class t{}return t.\u0275mod=h["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[r.CommonModule,o.FormsModule,a.IonicModule,x]]}),t})()}}]);